<div class="dashboard-container">
  <div class="container-fluid">
    <h2 class="mb-4">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h2>

    <!-- üîç Thanh c√¥ng c·ª• -->
    <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
      <div class="search-box">
        <input type="text"
               class="form-control"
               placeholder="T√¨m ki·∫øm ng∆∞·ªùi d√πng..."
               [(ngModel)]="searchTerm"
               (input)="onSearch()">
      </div>
      <button class="btn btn-primary" (click)="onCreateUser()">
        <i class="bi bi-plus-circle me-1"></i> Th√™m ng∆∞·ªùi d√πng
      </button>
    </div>

    <!-- üìã B·∫£ng danh s√°ch -->
    <div class="card shadow-sm border-0 rounded-3">
      <div class="card-body p-0">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th class="text-center">#</th>
              <th>T√™n</th>
              <th>Email</th>
              <th>Vai tr√≤</th>
              <th>Tr·∫°ng th√°i</th>
              <th>Ng√†y tham gia</th>
              <th class="text-center">H√†nh ƒë·ªông</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of paginatedUsers; let i = index">
              <td class="text-center">{{ (currentPage - 1) * pageSize + i + 1 }}</td>
              <td>{{ user.name }}</td>
              <td>{{ user.email }}</td>
              <td><span class="badge bg-primary">{{ user.role }}</span></td>
              <td>
                <span class="badge"
                      [ngClass]="{
                        'bg-success': user.status === 'Active',
                        'bg-secondary': user.status === 'Inactive'
                      }">
                  {{ user.status }}
                </span>
              </td>
              <td>{{ user.joinDate }}</td>
              <td class="text-center">
                <button class="btn btn-sm btn-outline-primary me-2">
                  <i class="bi bi-pencil-square"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
            <tr *ngIf="paginatedUsers.length === 0">
              <td colspan="7" class="text-center text-muted py-3">
                Kh√¥ng c√≥ ng∆∞·ªùi d√πng n√†o
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- üìÑ Ph√¢n trang -->
      <div class="card-footer bg-white py-3 d-flex justify-content-between align-items-center">
        <div class="text-muted small">
          Hi·ªÉn th·ªã {{ startItem }} - {{ endItem }} tr√™n {{ filteredUsers.length }} ng∆∞·ªùi d√πng
        </div>

        <nav>
          <ul class="pagination mb-0">
            <li class="page-item" [class.disabled]="currentPage === 1">
              <button class="page-link" (click)="previousPage()">&laquo;</button>
            </li>

            <li class="page-item"
                *ngFor="let page of totalPagesArray"
                [class.active]="currentPage === page">
              <button class="page-link" (click)="goToPage(page)">
                {{ page }}
              </button>
            </li>

            <li class="page-item" [class.disabled]="currentPage === totalPages">
              <button class="page-link" (click)="nextPage()">&raquo;</button>
            </li>
          </ul>
        </nav>
      </div>
    </div>

  </div>
</div>
