<div class="contact-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1>Liên hệ với chúng tôi</h1>
      <p>Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn</p>
    </div>
  </section>

  <!-- Contact Info Cards -->
  <section class="contact-info-section">
    <div class="container">
      <div class="info-grid">
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <h3>Địa chỉ</h3>
          <p>{{ contactInfo.address }}</p>
        </div>
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-phone"></i>
          </div>
          <h3>Điện thoại</h3>
          <p><a href="tel:{{ contactInfo.phone }}">{{ contactInfo.phone }}</a></p>
        </div>
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <h3>Email</h3>
          <p><a href="mailto:{{ contactInfo.email }}">{{ contactInfo.email }}</a></p>
        </div>
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-clock"></i>
          </div>
          <h3>Giờ làm việc</h3>
          <p [innerHTML]="contactInfo.workingHours"></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Departments Section -->
  <section class="departments-section">
    <div class="container">
      <div class="section-header">
        <h2>Các bộ phận</h2>
        <p>Liên hệ trực tiếp với bộ phận phù hợp để được hỗ trợ nhanh nhất</p>
      </div>
      <div class="departments-grid">
        <div class="department-card" *ngFor="let dept of departments">
          <div class="dept-icon">
            <i class="fas {{ dept.icon }}"></i>
          </div>
          <h3>{{ dept.title }}</h3>
          <p class="dept-desc">{{ dept.description }}</p>
          <div class="dept-contact">
            <a href="mailto:{{ dept.email }}" class="dept-email">
              <i class="fas fa-envelope"></i> {{ dept.email }}
            </a>
            <a href="tel:{{ dept.phone }}" class="dept-phone">
              <i class="fas fa-phone"></i> {{ dept.phone }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Form & Map Section -->
  <section class="form-map-section">
    <div class="container">
      <div class="form-map-grid">
        <!-- Contact Form -->
        <div class="contact-form-wrapper">
          <h2>Gửi tin nhắn cho chúng tôi</h2>
          <p class="form-description">Điền thông tin bên dưới và chúng tôi sẽ liên hệ lại với bạn sớm nhất</p>
          
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
            <div class="form-group">
              <label for="name">
                Họ và tên <span class="required">*</span>
              </label>
              <input 
                type="text" 
                id="name"
                formControlName="name"
                class="form-control"
                placeholder="Nhập họ và tên của bạn"
                [class.error]="contactForm.get('name')?.touched && contactForm.get('name')?.invalid"
              />
              <span class="error-message" *ngIf="getFieldError('name')">{{ getFieldError('name') }}</span>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="email">
                  Email <span class="required">*</span>
                </label>
                <input 
                  type="email" 
                  id="email"
                  formControlName="email"
                  class="form-control"
                  placeholder="email@example.com"
                  [class.error]="contactForm.get('email')?.touched && contactForm.get('email')?.invalid"
                />
                <span class="error-message" *ngIf="getFieldError('email')">{{ getFieldError('email') }}</span>
              </div>

              <div class="form-group">
                <label for="phone">
                  Số điện thoại <span class="required">*</span>
                </label>
                <input 
                  type="tel" 
                  id="phone"
                  formControlName="phone"
                  class="form-control"
                  placeholder="0123456789"
                  [class.error]="contactForm.get('phone')?.touched && contactForm.get('phone')?.invalid"
                />
                <span class="error-message" *ngIf="getFieldError('phone')">{{ getFieldError('phone') }}</span>
              </div>
            </div>

            <div class="form-group">
              <label for="subject">
                Chủ đề <span class="required">*</span>
              </label>
              <input 
                type="text" 
                id="subject"
                formControlName="subject"
                class="form-control"
                placeholder="Chủ đề liên hệ"
                [class.error]="contactForm.get('subject')?.touched && contactForm.get('subject')?.invalid"
              />
              <span class="error-message" *ngIf="getFieldError('subject')">{{ getFieldError('subject') }}</span>
            </div>

            <div class="form-group">
              <label for="message">
                Nội dung <span class="required">*</span>
              </label>
              <textarea 
                id="message"
                formControlName="message"
                class="form-control"
                rows="6"
                placeholder="Nhập nội dung tin nhắn của bạn..."
                [class.error]="contactForm.get('message')?.touched && contactForm.get('message')?.invalid"
              ></textarea>
              <span class="error-message" *ngIf="getFieldError('message')">{{ getFieldError('message') }}</span>
            </div>

            <button type="submit" class="btn-submit" [disabled]="isSubmitting">
              <span *ngIf="!isSubmitting">
                <i class="fas fa-paper-plane"></i> Gửi tin nhắn
              </span>
              <span *ngIf="isSubmitting">
                <i class="fas fa-spinner fa-spin"></i> Đang gửi...
              </span>
            </button>
          </form>
        </div>

        <!-- Map -->
        <div class="map-wrapper">
          <h2>Vị trí của chúng tôi</h2>
          <div class="map-container">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.4548546866896!2d106.76933807584394!3d10.850637589304207!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752772b245dff1%3A0x3ad2e187ddbae0e3!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBDw7RuZyBuZ2jhu4cgR2lhbyB0aMO0bmcgVuG6rW4gdOG6o2k!5e0!3m2!1svi!2s!4v1731571800000!5m2!1svi!2s"
              width="100%" 
              height="100%" 
              style="border:0;" 
              allowfullscreen="" 
              loading="lazy" 
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
          
          <!-- Social Links -->
          <div class="social-links">
            <h3>Kết nối với chúng tôi</h3>
            <div class="social-icons">
              <a [href]="contactInfo.socialLinks.facebook" target="_blank" class="social-icon facebook">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a [href]="contactInfo.socialLinks.instagram" target="_blank" class="social-icon instagram">
                <i class="fab fa-instagram"></i>
              </a>
              <a [href]="contactInfo.socialLinks.twitter" target="_blank" class="social-icon twitter">
                <i class="fab fa-twitter"></i>
              </a>
              <a [href]="contactInfo.socialLinks.youtube" target="_blank" class="social-icon youtube">
                <i class="fab fa-youtube"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section">
    <div class="container">
      <div class="section-header">
        <h2>Câu hỏi thường gặp</h2>
        <p>Những câu hỏi được hỏi nhiều nhất từ khách hàng</p>
      </div>
      <div class="faq-grid">
        <div class="faq-card" *ngFor="let faq of faqs">
          <div class="faq-question">
            <i class="fas fa-question-circle"></i>
            {{ faq.question }}
          </div>
          <div class="faq-answer">
            {{ faq.answer }}
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
